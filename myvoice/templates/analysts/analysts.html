{% extends "base.html" %}

{% load static from staticfiles %}

{% block title %}{{ object.name }} {{ object.get_type_display }} Summary Feedback Report{% endblock title %}

{% block content %}
  <div class="container main-header">
    <div class="col-xs-9 no-padding-left">
      <h1>
        <span style="font-weight: 700;">{{ object.name }} {{ object.get_type_display }}</span><br />
         Summary Feedback Report
      </h1>

      <div class="lead"></div>
    </div>
  </div><!-- /.container -->

  <div id="feedback-on-services" class="container">
    <div class="col-xs-12 section-heading">
      <h2>COMPLETION RATE</h2>
    </div>

    <p>Number of patients with this service who reported this feedback between
    July 7â€“August 7, 2014.</p>
      <table>
        <tr>
          <td>Number of Surveys Triggered</td><td>89</td>
        </tr>
        <tr>
          <td>Number of Surveys Completed</td><td>67 (75%)</td>
        </tr>
      </table>

  </div><!-- / #feedback-on-services .container -->

  <div id="feedback-facility" class="container">
    <div class="col-xs-12 section-heading">
      <h2>FEEDBACK RATES BY QUESTION</h2>
    </div>

    <table class="table table-bordered table-striped" style="width:300px !important">
      <thead>
        <tr>
          <th class="special-th" style="width:300px">Survey Question</th>
          <th>
            <div class="green-question-dot" data-toggle="popover" data-placement="bottom" data-content="This response was generated by using key satisfaction indicators based on customer responses in SMS survey.">?
            </div>
            Number of <br/>Respondents
          </th>
          <th>
            <div class="green-question-dot" data-toggle="popover" data-placement="bottom" data-content="This response was generated by using key satisfaction indicators based on customer responses in SMS survey.">?
            </div>
            Patient<br/>Response Time
          </th>
          <th>
            <div class="green-question-dot" data-toggle="popover" data-placement="bottom" data-content="This response was generated by using key satisfaction indicators based on customer responses in SMS survey.">?
            </div>
            System<br/>Response Time
          </th>
          
        </tr>
      </thead>

      <tfoot>
          <tr>
              <th>Survey Question</th>
              <th>Number of Respondents</th>
              <th>Patient Response Time</th>
              <th>System Response Time</th>
          </tr>
      </tfoot>
      <tbody>
        
          <tr>
            <td>1.1 HospitalAvailable</td>
            <td>#</td>
            <td>hh:mm:ss</td>
            <td>hh:mm:ss</td>
            
          </tr>
        
          <tr>
            <td>1.2 HospitalAvailable_Detail</td>
            <td>12</td>
            <td>00:03:25</td>
            <td>00:07:20</td>
            
          </tr>
        
          <tr>
            <td>2.1 Respectful Staff</td>
            <td>22</td>
            <td>00:01:25</td>
            <td>00:07:20</td>
            
          </tr>
        
          <tr>
            <td>2.2 RespectfulStaff_Detai</td>
            <td>32</td>
            <td>00:03:25</td>
            <td>00:08:20</td>
          </tr>
        
          <tr>
            <td>3.1 CleanHospitalMaterials</td>
            <td>42</td>
            <td>00:06:25</td>
            <td>00:10:20</td>
          </tr>
          
          <tr>
            <td>3.2 CleanHospitalMaterials_Detail</td>
            <td>35</td>
            <td>00:07:25</td>
            <td>00:12:20</td>
          </tr>

          <tr>
            <td>4.1 Overcharge</td>
            <td>24</td>
            <td>00:03:25</td>
            <td>00:14:20</td>
          </tr>

          <tr>
            <td>4.2 Overcharge_Detail</td>
            <td>26</td>
            <td>00:02:25</td>
            <td>00:16:20</td>
          </tr>

          <tr>
            <td>5.1 Waittime</td>
            <td>20</td>
            <td>00:01:25</td>
            <td>00:19:20</td>
          </tr>

          <tr>
            <td>6.1 FeedbackResponse</td>
            <td>54</td>
            <td>00:05:25</td>
            <td>00:21:20</td>
          </tr>

          <tr>
            <td>Generic</td>
            <td>43</td>
            <td>00:04:25</td>
            <td>00:23:20</td>
          </tr>

      </tbody>
    </table>
  </div><!-- / #feedback-facility .container -->
   
        <script type="text/javascript">
          $(document).ready( function () {
              // Setup - add a text input to each footer cell
            $('.table tfoot th').each( function () {
                var title = $('.table tfoot th').eq( $(this).index() ).text();
                $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
            } );
         
            // DataTable
            var table = $('.table').DataTable( { 
              paging: false,
              "columns": [
              { "width": "200px" },
              { "width": "40px" },
              { "width": "40px" },
              { "width": "40px" },
            ]

            });
         
            // Apply the filter
            table.columns().eq( 0 ).each( function ( colIdx ) {
                $( 'input', table.column( colIdx ).footer() ).on( 'keyup change', function () {
                    table
                        .column( colIdx )
                        .search( this.value )
                        .draw();
                } );
            } );
          } );
        </script>
      
    
  {% endblock content %}
